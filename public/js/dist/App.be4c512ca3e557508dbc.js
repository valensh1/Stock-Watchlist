!function(e){function t(t){for(var a,c,l=t[0],i=t[1],s=t[2],p=0,m=[];p<l.length;p++)c=l[p],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var i=n[l];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={0:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=i;o.push([64,2]),n()}({11:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(7);function o(e,t,n,a,r,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(a,r)}t.a=e=>{const[t,n]=Object(a.useState)(!1),c=function(){var a,r=(a=function*(a){try{const a=yield fetch("/api/stocks/".concat(e.stockID),{method:"DELETE",headers:{"Content-Type":"application/json"}});yield a.json(),n(!t)}catch(e){console.error(e)}},function(){var e=this,t=arguments;return new Promise((function(n,r){var c=a.apply(e,t);function l(e){o(c,n,r,l,i,"next",e)}function i(e){o(c,n,r,l,i,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}();return r.a.createElement("i",{onClick:c,className:"large red trash icon"})}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(8);n(7);function c(e,t,n,a,r,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){c(o,a,r,l,i,"next",e)}function i(e){c(o,a,r,l,i,"throw",e)}l(void 0)}))}}function i(e){console.log(e);const[t,n]=Object(a.useState)({symbol:"",lastPrice:0}),[c,i]=Object(a.useState)([]),s=Object(a.useRef)(null);Object(a.useEffect)(()=>{l((function*(){try{const t=yield fetch("/api/stocks/".concat(e.match.params.id)),a=yield t.json();yield n(a)}catch(e){console.error(e)}}))()},[]),Object(a.useEffect)(()=>{l((function*(){try{console.log(t);const e=yield fetch("https://api.polygon.io/v1/meta/symbols/".concat(t.symbol,"/news?perpage=50&page=1&apiKey=").concat("lb5t4CfGCkFI2pFpkTrfsZlaswHw8xIC"));console.log(e);const n=yield e.json();console.log(n),console.log(n[0].title),yield i(n)}catch(e){console.error(e)}}))()},[t]);const u=function(){var a=l((function*(a){console.log("You clicked to submit your update");try{const a=yield fetch("/api/stocks/".concat(e.match.params.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:s.current.value,lastPrice:t.lastPrice})}),r=yield a.json();n(r)}catch(e){console.error(e)}}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",{className:"stock-news-headers"},r.a.createElement("span",null,t.symbol)," News"),r.a.createElement("h4",null,"$",t.lastPrice),r.a.createElement(o.b,{to:"/".concat(t._id,"/edit")},r.a.createElement("button",{onClick:()=>{console.log("You clicked to update");const e=document.getElementById("ticker-update-input"),t=document.getElementById("ticker-update-label"),n=document.getElementById("ticker-update-button");e.style.visibility="visible",t.style.visibility="visible",n.style.visibility="visible"}},"Update Post")),r.a.createElement("br",null),r.a.createElement("label",{id:"ticker-update-label",htmlFor:"ticker-update"},"Update Ticker"),r.a.createElement("input",{type:"text",id:"ticker-update-input",ref:s,defaultValue:t.symbol}),r.a.createElement("button",{id:"ticker-update-button",onClick:u},"Send Update"),c.map(e=>r.a.createElement("div",{className:"stock-news-container"},r.a.createElement("div",{className:"article-title"},r.a.createElement("a",{href:e.url,target:"_blank"},r.a.createElement("h6",null,e.title))),r.a.createElement("div",{className:"article-image"},r.a.createElement("a",{href:e.url,target:"_blank"},r.a.createElement("img",{src:e.image}))))))}},29:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(7);t.a=e=>r.a.createElement("form",null,r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{id:"symbol-search",type:"text",placeholder:"Symbol",value:e.symbol,onChange:e.handleChange}),r.a.createElement("button",{onClick:e.onFormSubmit},r.a.createElement("i",{className:"inverted circular search link icon"}))))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a);n(7);const o=e=>{const[t,n]=Object(a.useState)("2021-01-01");return r.a.createElement("div",null,r.a.createElement("input",{id:"date",type:"date",default:new Date,value:t,onChange:t=>{n(t.target.value),e.todayDateChild(t.target.value)}}))}},41:function(e,t,n){"use strict";n(0),n(7)},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),l=n(8);var i=e=>r.a.createElement("nav",{className:"NavBar"},e.routes.map(e=>{let{key:t,path:n}=e;return r.a.createElement(l.b,{key:t,to:n},t)})),s=n(1),u=n(7);var p=n(12);var m=[{Component:function(e){return r.a.createElement("div",{className:"ContactPage"},"This is the ",e.page," page")},key:"Contact",path:"/contact"},{Component:function(e){return r.a.createElement("div",{className:"HomePage"},"This is the ",e.page," page")},key:"Home",path:"/home"},{Component:function(e){return r.a.createElement("div",{className:"AboutPage"},"This is the ",e.page," page")},key:"About",path:"/about"},{Component:n(11).a,key:"UpdateStock",path:"/:id/delete"},{Component:p.a,key:"StockNews",path:"/:id"},{Component:u.a,key:"App",path:"/"}];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=()=>r.a.createElement(l.a,null,r.a.createElement(i,{routes:m}),r.a.createElement(s.c,null,m.map(e=>{let{Component:t,key:n,path:a}=e;return r.a.createElement(s.a,{key:n,path:a,component:e=>r.a.createElement(t,d({page:n},e))})})));n(59);const y=document.getElementById("app");c.a.render(r.a.createElement(f,null),y)},7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(0),r=n.n(a),o=n(29),c=n(11),l=(n(41),n(30)),i=n.n(l),s=n(8),u=(n(12),n(31));function p(e,t,n,a,r,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){p(o,a,r,c,l,"next",e)}function l(e){p(o,a,r,c,l,"throw",e)}c(void 0)}))}}const d=e.env.ALPHA_VANTAGE_API_KEY;function f(e){const[t,n]=Object(a.useState)(""),[l,p]=Object(a.useState)({}),[f,y]=Object(a.useState)([]),[h,v]=Object(a.useState)(new Date);Object(a.useEffect)(()=>{m((function*(){try{const e=yield fetch("/api/stocks"),t=yield e.json();y(t)}catch(e){console.error(e)}}))()},[f]);const b=function(){var e=m((function*(){try{const e=yield fetch("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=".concat(t.toUpperCase(),"&apikey=").concat(d)),n=yield e.json();yield E(n)}catch(e){console.error(e)}}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=m((function*(e){const n={symbol:t,lastPrice:e["Time Series (Daily)"][k()]["5. adjusted close"]};try{p(n);yield i.a.post("http://localhost:3000/api/stocks",n);y([...f,n])}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=m((function*(e){e.preventDefault();try{yield b()}catch(e){console.error(e)}finally{n("")}}));return function(t){return e.apply(this,arguments)}}(),k=()=>{var e=new Date;String(e.getDate()-3).padStart(2,"0");String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear();return"".concat(h)};return r.a.createElement("div",{className:"total-container"},r.a.createElement("h1",{className:"stage",id:"heading"},"STOCK WATCHLIST"),r.a.createElement("br",null),r.a.createElement(u.a,{todayDateChild:e=>v(e)}),r.a.createElement("br",null),r.a.createElement(o.a,{onFormSubmit:g,handleChange:e=>{n(e.target.value)},symbol:t}),r.a.createElement("br",null),r.a.createElement("ul",{className:"watchlist-container"},f.map(e=>r.a.createElement("div",{key:e._id,className:"watchlist-data"},r.a.createElement(s.b,{to:"/".concat(e._id),symbol:e.symbol},r.a.createElement("li",null,e.symbol.toUpperCase()),r.a.createElement("li",null,"$",e.lastPrice)),r.a.createElement(c.a,{stockID:e._id})))))}}).call(this,n(18))}});